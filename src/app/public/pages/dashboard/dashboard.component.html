<div class="p-10">
  <div class="grid grid-cols-3 gap-4">
    <div>
      <div class="shadow-lg my-8 w-full flex justify-center bg-white rounded-xl">
        <div class="py-8 mx-4 w-3/4 flex">
          <div class="">
            <div class="font-extra bold text-secondary" style="font-size: 22px;">
              Weather
            </div>
            <div class="text-sm-5 font-semibold text-textparrafo">
              {{WeatherData.name}}
            </div>
            <b class="text-secondary flex items-center py-4" style="font-size: 30px;">{{WeatherData.temp_celsius}}° C</b>
            <div class="flex">
              <p class="font-light">{{WeatherData.temp_min}}° C</p>
              <p class="font-light text-secondary-low">
                /
              </p>
              <p class="font-light text-darkorange">
                {{WeatherData.temp_max}}° C
              </p>
            </div>
            <div class="font-light text-secondary-low">
              {{ WeatherData.description }}
            </div>
          </div>
          <div class="flex items-center">
            <div class="w-[90px] h-[68px] bg-climate bg-cover mt-5"></div>
          </div>
        </div>
      </div>
      <div class="shadow-lg my-8 w-full flex justify-center bg-white rounded-xl">
        <div class="py-8 mx-4 w-3/4">
          <div class="overflow-hidden flex justify-end items-center text-base-2 text-secondary">
            <div class="font-extrabold text-secondary" style="font-size: 17px;">
              Soil Moisture
            </div>
            <button  [routerLink]="['/historical-data']" class="ml-9 bg-white hover:bg-fontwhate w-10 h-10 cursor-pointer rounded-full" aria-label="Example icon button with a filter list icon">
              <mat-icon  aria-hidden="false" aria-label="Example home icon" fontIcon="navigate_next"></mat-icon>
            </button>
          </div>
          <div *ngIf="moistureHasData">
            <ngx-charts-bar-vertical
              [view]="view"
              [barPadding]="barPadding"
              [scheme]="colorScheme"
              [results]="moistureFilteredBy5LastHours"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [legend]="showLegend"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="xAxisLabel"
              [yAxisLabel]="yAxisLabel">
            </ngx-charts-bar-vertical>
          </div>
          <div *ngIf="!moistureHasData">
            <p>There was no registration in the last 5 hours</p>
          </div>
        </div>
      </div>
      <div class="shadow-lg w-full flex justify-center my-8 bg-white rounded-xl">
        <div class="py-8 mx-4 w-3/4">
          <div class="overflow-hidden flex justify-end items-center text-base-2 text-secondary">
            <div class="font-extrabold text-secondary" style="font-size: 17px;">
              Air Temperature
            </div>
            <button  [routerLink]="['/historical-data']" class="ml-7 bg-white hover:bg-fontwhate w-10 h-10 cursor-pointer rounded-full" aria-label="Example icon button with a filter list icon">
              <mat-icon  aria-hidden="false" aria-label="Example home icon" fontIcon="navigate_next"></mat-icon>
            </button>
          </div>
          <div *ngIf="temperatureHasData">
            <ngx-charts-bar-vertical
              [view]="view"
              [barPadding]="barPadding"
              [scheme]="colorScheme"
              [results]="temperatureFilteredBy5LastHours"
              [gradient]="gradient"
              [xAxis]="showXAxis"
              [yAxis]="showYAxis"
              [legend]="showLegend"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxisLabel]="xAxisLabel"
              [yAxisLabel]="yAxisLabel">
            </ngx-charts-bar-vertical>
          </div>
          <div *ngIf="!temperatureHasData">
            <p>There was no registration in the last 5 hours</p>
          </div>
        </div>
      </div>
    </div>
    <div class="flex justify-center">
      <div class="w-full">
        <div class="shadow-lg my-8 w-full flex justify-center bg-white rounded-xl">
          <div class="py-8 mx-4 w-3/4">
            <div class="overflow-hidden flex justify-end items-center text-base-2 text-secondary">
              <div class="font-extrabold text-secondary" style="font-size: 17px;">
                Water Consumption
              </div>
              <button  class="ml-12 bg-white hover:bg-fontwhate w-10 h-10 cursor-pointer rounded-full" aria-label="Example icon button with a filter list icon">
                <mat-icon [routerLink]="['/historical-data']" aria-hidden="false" aria-label="Example home icon" fontIcon="navigate_next"></mat-icon>
              </button>
            </div>
            <div *ngIf="caudalHasData">
              <ngx-charts-bar-vertical
                [view]="view"
                [barPadding]="barPadding"
                [scheme]="colorScheme"
                [results]="caudalFilteredBy5LastHours"
                [gradient]="gradient"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="xAxisLabel"
                [yAxisLabel]="yAxisLabel">
              </ngx-charts-bar-vertical>
            </div>
            <div *ngIf="!caudalHasData">
              <p>There was no registration in the last 5 hours</p>
            </div>
          </div>
        </div>
        <div class="shadow-lg w-full flex justify-center my-8 bg-white rounded-xl">
          <div class="py-8 mx-4 w-3/4">
            <div class="overflow-hidden flex justify-end items-center text-base-2 text-secondary">
              <div class="font-extrabold text-secondary" style="font-size: 17px;">
                Air Humidity
              </div>
              <button  [routerLink]="['/historical-data']" class="ml-9 bg-white hover:bg-fontwhate w-10 h-10 cursor-pointer rounded-full" aria-label="Example icon button with a filter list icon">
                <mat-icon  aria-hidden="false" aria-label="Example home icon" fontIcon="navigate_next"></mat-icon>
              </button>
            </div>
            <div *ngIf="humidityHasData">
              <ngx-charts-bar-vertical
                [view]="view"
                [barPadding]="barPadding"
                [scheme]="colorScheme"
                [results]="humidityFilteredBy5LastHours"
                [gradient]="gradient"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="xAxisLabel"
                [yAxisLabel]="yAxisLabel">
              </ngx-charts-bar-vertical>
            </div>
            <div *ngIf="!humidityHasData">
              <p>There was no registration in the last 5 hours</p>
            </div>
          </div>
        </div>
        <div class="shadow-lg w-full flex justify-center my-8 bg-white rounded-xl">
          <div class="py-8 mx-4 w-3/4">
            <div class="overflow-hidden flex justify-end items-center text-base-2 text-secondary">
              <div class="font-extrabold text-secondary" style="font-size: 17px;">
                Devices
              </div>
              <button  [routerLink]="['/devices']" class="ml-9 bg-white hover:bg-fontwhate w-10 h-10 cursor-pointer rounded-full" aria-label="Example icon button with a filter list icon">
                <mat-icon  aria-hidden="false" aria-label="Example home icon" fontIcon="navigate_next"></mat-icon>
              </button>
            </div>
            <ngx-charts-pie-chart *ngIf="devices.length == 0 ? false : true"
              [view]="view1"
              [scheme]="colorScheme1"
              [results]="single1"
              [gradient]="gradient1"
              [labels]="showLabels1"
              [legend]="showLegend1"
              [legendPosition]="legendPosition1"
              [doughnut]="isDoughnut1">
            </ngx-charts-pie-chart>
            <div *ngIf="devices.length != 0 ? false : true">
              <p>No devices available</p>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="flex justify-center">
      <div class="w-4/5">
        <div class="bg-white rounded-2xl">
          <div class="p-5">
            <div class="overflow-hidden flex justify-center items-center text-base-2 text-secondary">
              <div class="font-extrabold text-xl" style="font-size: 18px;">Notifications</div>

            </div>
            <div *ngIf="notificationList.length === 0; else notificationEmpty">
              <p class="py-3">There are no notifications available at the moment</p>
            </div>
            <ng-template #notificationEmpty class="my-5 bg-slate-100	rounded-lg p-2">
              <div class="my-2" *ngFor="let notification of notificationList">
                <div class="text-4xl font-medium text-textparrafo" style="font-size: 15px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                  {{notification.body}}
                </div>
                <div class="font-light text-textligth">
                  {{ formatDate(notification.createdAt) }}
                </div>
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
